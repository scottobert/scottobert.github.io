<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Scott Obert</title><meta name=description content="A deep dive into advanced CloudFormation patterns and practices for building maintainable and scalable infrastructure as code."><link rel=canonical href=https://scottobert.com/posts/advanced-cloudformation-patterns/><meta property="og:title" content="Infrastructure as Code: Advanced CloudFormation Patterns"><meta property="og:description" content="A deep dive into advanced CloudFormation patterns and practices for building maintainable and scalable infrastructure as code."><meta property="og:type" content="article"><meta property="og:url" content="https://scottobert.com/posts/advanced-cloudformation-patterns/"><meta property="og:site_name" content="Scott Obert"><meta name=twitter:card content="summary"><meta name=twitter:title content="Infrastructure as Code: Advanced CloudFormation Patterns"><meta name=twitter:description content="A deep dive into advanced CloudFormation patterns and practices for building maintainable and scalable infrastructure as code."><link rel=stylesheet href=/css/style.css><script src=/js/npm-packages.js defer></script><script src=/js/search.js defer></script><script defer src=https://cloud.umami.is/script.js data-website-id=e2461896-021d-422a-b83f-624a8819309b></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></head><body><header class=site-header><div class=container><div class=header-content><div class=header-left><h1><a href=/>Scott Obert</a></h1><nav><a href=/posts/>Blog</a>
<a href=/album/>Photo Album</a>
<button type=button class=search-toggle id=search-toggle-btn aria-label="Open search" title=Search>
<svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61.0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
<span>Search</span></button></nav></div><div class=social-links><a href=https://www.linkedin.com/in/scott-obert-3a7338b/ target=_blank rel="noopener noreferrer" title="LinkedIn Profile"><svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
<span>LinkedIn</span>
</a><a href=https://github.com/scottobert target=_blank rel="noopener noreferrer" title="GitHub Profile"><svg viewBox="0 0 24 24"><path d="M12 0C5.37.0.0 5.37.0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.385-1.335-1.755-1.335-1.755-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.605-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.63-5.37-12-12-12"/></svg>
<span>GitHub</span></a></div></div></div></header><div class=container><nav class=breadcrumbs aria-label="Breadcrumb navigation"><ol class=breadcrumb-list><li class=breadcrumb-item><a href=https://scottobert.com/ title=Home><svg class="breadcrumb-home-icon" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
<span>Home</span></a></li><li class=breadcrumb-item><span class=breadcrumb-separator aria-hidden=true>/</span>
<a href=https://scottobert.com/posts/ title=Posts>Posts</a></li><li class=breadcrumb-item><span class=breadcrumb-separator aria-hidden=true>/</span>
<a href=https://scottobert.com/categories/cloud-computing title="Category: Cloud Computing"><svg class="breadcrumb-category-icon" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
<span>Cloud Computing</span></a></li><li class="breadcrumb-item breadcrumb-current"><span class=breadcrumb-separator aria-hidden=true>/</span>
<span class=breadcrumb-current-page aria-current=page>Infrastructure as Code: Advanced CloudFormation Patterns</span></li></ol></nav><div class=content-layout><main class=main-content><article class=post><h1>Infrastructure as Code: Advanced CloudFormation Patterns</h1><div class=post-meta><div class=post-meta-left><span>Jun 13, 2025</span>
<span>| Tags: AWS, Infrastructure as Code, CloudFormation, Best Practices, DevOps</span></div><div class=post-meta-right><div class=quick-social-share><button type=button class=quick-share-toggle id=quick-share-toggle title="Share this post">
<svg viewBox="0 0 24 24"><path d="M18 16.08c-.76.0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66.0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66.0-3 1.34-3 3s1.34 3 3 3c.79.0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65.0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/></svg>
<span>Share</span></button><div class=quick-share-buttons id=quick-share-buttons><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F&text=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns" target=_blank rel="noopener noreferrer" class="quick-share-button twitter" title="Share on Twitter"><svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
</a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" target=_blank rel="noopener noreferrer" class="quick-share-button linkedin" title="Share on LinkedIn"><svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
</a><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" target=_blank rel="noopener noreferrer" class="quick-share-button facebook" title="Share on Facebook"><svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312.0 2.686.235 2.686.235v2.953H15.83c-1.491.0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
</a><a href="https://reddit.com/submit?url=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F&title=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns" target=_blank rel="noopener noreferrer" class="quick-share-button reddit" title="Share on Reddit"><svg viewBox="0 0 24 24"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg>
</a><a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F&t=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns" target=_blank rel="noopener noreferrer" class="quick-share-button hackernews" title="Share on Hacker News"><svg viewBox="0 0 24 24"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
</a><a href="https://wa.me/?text=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns+https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" target=_blank rel="noopener noreferrer" class="quick-share-button whatsapp" title="Share on WhatsApp"><svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198.0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479.0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87.0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86.0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64.0 5.122 1.03 6.988 2.898a9.825 9.825.0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815.0 0012.05.0C5.495.0.16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882.0 005.683 1.448h.005c6.554.0 11.89-5.335 11.893-11.893A11.821 11.821.0 0020.465 3.488"/></svg>
</a><a href="mailto:?subject=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns&body=Check+out+this+article%3A+Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns+-+https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" class="quick-share-button email" title="Share via Email"><svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"/></svg>
</a><button type=button class="quick-share-button copy-link" data-url=https://scottobert.com/posts/advanced-cloudformation-patterns/ title="Copy link to clipboard">
<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1.0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1.0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1.0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg></button></div></div><script>(function(){const i=document.querySelector(".quick-social-share"),e=document.getElementById("quick-share-toggle"),t=document.getElementById("quick-share-buttons");if(!i||!e||!t)return;let n=!1;e.addEventListener("click",function(){n=!n,n?(t.classList.add("visible"),e.classList.add("active")):(t.classList.remove("visible"),e.classList.remove("active"))});const a=document.querySelectorAll(".quick-share-button.copy-link");a.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-url");navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{o(this)}).catch(()=>{s(e,this)}):s(e,this)})});function s(e,t){const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy"),o(t)}catch(e){console.error("Fallback: Unable to copy",e),r(t)}document.body.removeChild(n)}function o(e){const n=e.getAttribute("title");e.setAttribute("title","Copied!"),e.classList.add("copied");const t=document.createElement("div");t.textContent="Copied!",t.style.position="absolute",t.style.bottom="100%",t.style.left="50%",t.style.transform="translateX(-50%)",t.style.background="#28a745",t.style.color="white",t.style.padding="4px 8px",t.style.borderRadius="4px",t.style.fontSize="0.75rem",t.style.whiteSpace="nowrap",t.style.zIndex="1000",t.style.marginBottom="5px",e.style.position="relative",e.appendChild(t),setTimeout(()=>{e.setAttribute("title",n),e.classList.remove("copied"),t.parentNode&&e.removeChild(t)},2e3)}function r(e){const t=e.getAttribute("title");e.setAttribute("title","Copy failed"),e.classList.add("error"),setTimeout(()=>{e.setAttribute("title",t),e.classList.remove("error")},2e3)}})()</script></div></div><div class=post-content><h2 id=introduction>Introduction</h2><p>Infrastructure as Code (IaC) has revolutionized how we manage cloud resources, and AWS CloudFormation stands at the forefront of this transformation. While basic templates serve well for simple deployments, advanced patterns can significantly enhance maintainability, reusability, and scalability of your infrastructure code. This guide explores sophisticated CloudFormation patterns drawn from real-world experience.</p><h2 id=custom-resources-beyond-standard-aws-resources>Custom Resources: Beyond Standard AWS Resources</h2><p>CloudFormation&rsquo;s custom resources extend its capabilities beyond built-in AWS resource types. Through Lambda-backed custom resources, you can integrate external services, implement complex validation logic, or manage resources that CloudFormation doesn&rsquo;t natively support. Consider this pattern for managing DNS records in external providers or implementing custom validation rules for your infrastructure.</p><p>A practical implementation might involve creating a custom resource that validates IP ranges against your organization&rsquo;s policies before creating VPC resources. The Lambda function handling this validation becomes part of your infrastructure template:</p><div class=plantuml-container><img id=plantuml-custom-resource-flow class=plantuml-diagram>
<a id=plantuml-link-custom-resource-flow href=# target=_blank class=plantuml-link title="Open diagram in new window"><span class=plantuml-link-icon>🔍</span></a></div><script src=/js/rawdeflate.js></script><script>function encode64(e){r="";for(i=0;i<e.length;i+=3)i+2==e.length?r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),0):i+1==e.length?r+=append3bytes(e.charCodeAt(i),0,0):r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),e.charCodeAt(i+2));return r}function append3bytes(e,t,n){return c1=e>>2,c2=(e&3)<<4|t>>4,c3=(t&15)<<2|n>>6,c4=n&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(e){return e<10?String.fromCharCode(48+e):(e-=10,e<26?String.fromCharCode(65+e):(e-=26,e<26?String.fromCharCode(97+e):(e-=26,e==0?"-":e==1?"_":"?")))}var deflater=window.SharedWorker&&new SharedWorker("/js/rawdeflate.js");deflater?(deflater.port.addEventListener("message",done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker("/js/rawdeflate.js"),deflater.onmessage=done_deflating);function done_deflating(e){const s=document.getElementById("plantuml-custom-resource-flow"),t="https://www.plantuml.com/plantuml/img/"+encode64(e.data);s.src=t;const n=document.getElementById("plantuml-link-custom-resource-flow");n&&(n.href=t)}function compress(e){e=unescape(encodeURIComponent(e)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(e):deflater.postMessage(e):setTimeout(function(){done_deflating({data:deflate(e)})},100)}compress(`
@startuml
!theme cerulean-outline
title Custom Resource Validation Flow

actor "DevOps Engineer" as engineer
participant "CloudFormation" as cf
participant "Lambda Function" as lambda
participant "Policy Service" as policy
participant "VPC Resource" as vpc

engineer -> cf: Deploy template with\\nCustom::IPRangeValidator
activate cf

cf -> lambda: CREATE event with\\nIPRange parameter
activate lambda

lambda -> policy: Validate IP range\\nagainst org policies
activate policy

alt IP range valid
    policy --> lambda: ✓ Validation passed
    lambda --> cf: SUCCESS response\\nwith validated data
    cf -> vpc: Create VPC with\\nvalidated IP range
    activate vpc
    vpc --> cf: VPC created successfully
    deactivate vpc
    cf --> engineer: Stack CREATE_COMPLETE
else IP range invalid
    policy --> lambda: ✗ Policy violation
    lambda --> cf: FAILED response\\nwith error message
    cf --> engineer: Stack CREATE_FAILED
end

deactivate policy
deactivate lambda
deactivate cf
@enduml
`)</script><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>IPRangeValidator</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::Lambda::Function</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Handler</span>: <span style=color:#ae81ff>index.handler</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Runtime</span>: <span style=color:#ae81ff>nodejs18.x</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Code</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>ZipFile</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          exports.handler = async (event) =&gt; {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            const ipRange = event.ResourceProperties.IPRange;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            // Validation logic here
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            if (!isValidRange(ipRange)) {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              throw new Error(&#39;IP range violates policy&#39;);
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            return { Data: { Validated: true } };
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          }</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>VPCResource</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>Custom::IPRangeValidator</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>ServiceToken</span>: !<span style=color:#ae81ff>GetAtt IPRangeValidator.Arn</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>IPRange</span>: <span style=color:#e6db74>&#34;10.0.0.0/16&#34;</span>
</span></span></code></pre></div><h2 id=dynamic-configuration-with-macros>Dynamic Configuration with Macros</h2><p>CloudFormation macros enable template transformations before deployment, offering powerful customization capabilities. Unlike simple parameters, macros can implement complex logic to generate or modify resources dynamically. The AWS::Serverless transform is a well-known example, but custom macros can solve organization-specific challenges.</p><p>Consider a macro that automatically adds standardized tags to resources based on your organization&rsquo;s nomenclature. The macro processes your template during deployment, ensuring consistent resource tagging without repetitive template code:</p><div class=plantuml-container><img id=plantuml-macro-processing class=plantuml-diagram>
<a id=plantuml-link-macro-processing href=# target=_blank class=plantuml-link title="Open diagram in new window"><span class=plantuml-link-icon>🔍</span></a></div><script src=/js/rawdeflate.js></script><script>function encode64(e){r="";for(i=0;i<e.length;i+=3)i+2==e.length?r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),0):i+1==e.length?r+=append3bytes(e.charCodeAt(i),0,0):r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),e.charCodeAt(i+2));return r}function append3bytes(e,t,n){return c1=e>>2,c2=(e&3)<<4|t>>4,c3=(t&15)<<2|n>>6,c4=n&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(e){return e<10?String.fromCharCode(48+e):(e-=10,e<26?String.fromCharCode(65+e):(e-=26,e<26?String.fromCharCode(97+e):(e-=26,e==0?"-":e==1?"_":"?")))}var deflater=window.SharedWorker&&new SharedWorker("/js/rawdeflate.js");deflater?(deflater.port.addEventListener("message",done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker("/js/rawdeflate.js"),deflater.onmessage=done_deflating);function done_deflating(e){const s=document.getElementById("plantuml-macro-processing"),t="https://www.plantuml.com/plantuml/img/"+encode64(e.data);s.src=t;const n=document.getElementById("plantuml-link-macro-processing");n&&(n.href=t)}function compress(e){e=unescape(encodeURIComponent(e)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(e):deflater.postMessage(e):setTimeout(function(){done_deflating({data:deflate(e)})},100)}compress(`
@startuml
!theme cerulean-outline
title CloudFormation Macro Processing Pipeline

participant "Original Template" as template
participant "CloudFormation" as cf
participant "Macro Lambda" as macro
participant "Transformed Template" as transformed
participant "AWS Resources" as resources

template -> cf: Submit template with\\nTransform: StandardTags
activate cf

cf -> macro: Process template with\\nmacro transformation
activate macro

note over macro
  Macro examines template
  and adds standard tags:
  - Environment
  - Owner
  - CostCenter
  - Project
end note

macro -> macro: Transform resources\\nand add tags

macro --> cf: Return transformed\\ntemplate fragment
deactivate macro

cf -> transformed: Generate final\\ntemplate with tags
activate transformed

cf -> resources: Deploy resources\\nwith standardized tags
activate resources

resources --> cf: Resources created\\nwith consistent tagging
deactivate resources

cf --> template: Deployment complete
deactivate transformed
deactivate cf
@enduml
`)</script><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>TaggingMacro</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::CloudFormation::Macro</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Name</span>: <span style=color:#ae81ff>StandardTags</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Description</span>: <span style=color:#ae81ff>Adds standard organizational tags</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>FunctionName</span>: !<span style=color:#ae81ff>GetAtt TaggingFunction.Arn</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>Transform</span>: <span style=color:#ae81ff>StandardTags</span>
</span></span></code></pre></div><h2 id=nested-stacks-for-modularity>Nested Stacks for Modularity</h2><p>While nested stacks aren&rsquo;t new, their strategic use can significantly improve template maintainability. Rather than treating them as simple includes, consider them as independent modules with well-defined interfaces. This approach enables you to build a library of reusable infrastructure components while maintaining flexibility in their implementation.</p><p>A modular VPC deployment might separate networking components into discrete stacks, each managing a specific aspect of the infrastructure:</p><div class=plantuml-container><img id=plantuml-nested-stacks-architecture class=plantuml-diagram>
<a id=plantuml-link-nested-stacks-architecture href=# target=_blank class=plantuml-link title="Open diagram in new window"><span class=plantuml-link-icon>🔍</span></a></div><script src=/js/rawdeflate.js></script><script>function encode64(e){r="";for(i=0;i<e.length;i+=3)i+2==e.length?r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),0):i+1==e.length?r+=append3bytes(e.charCodeAt(i),0,0):r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),e.charCodeAt(i+2));return r}function append3bytes(e,t,n){return c1=e>>2,c2=(e&3)<<4|t>>4,c3=(t&15)<<2|n>>6,c4=n&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(e){return e<10?String.fromCharCode(48+e):(e-=10,e<26?String.fromCharCode(65+e):(e-=26,e<26?String.fromCharCode(97+e):(e-=26,e==0?"-":e==1?"_":"?")))}var deflater=window.SharedWorker&&new SharedWorker("/js/rawdeflate.js");deflater?(deflater.port.addEventListener("message",done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker("/js/rawdeflate.js"),deflater.onmessage=done_deflating);function done_deflating(e){const s=document.getElementById("plantuml-nested-stacks-architecture"),t="https://www.plantuml.com/plantuml/img/"+encode64(e.data);s.src=t;const n=document.getElementById("plantuml-link-nested-stacks-architecture");n&&(n.href=t)}function compress(e){e=unescape(encodeURIComponent(e)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(e):deflater.postMessage(e):setTimeout(function(){done_deflating({data:deflate(e)})},100)}compress(`
@startuml
!theme cerulean-outline
title Nested Stacks Modular Architecture

package "Master Stack" {
  [Master Template]
}

package "VPC Stack" {
  [VPC Template] 
  [VPC Resources] <<AWS::EC2::VPC>>
  [Subnets] <<AWS::EC2::Subnet>>
  [Route Tables] <<AWS::EC2::RouteTable>>
}

package "Security Stack" {
  [Security Template]
  [Security Groups] <<AWS::EC2::SecurityGroup>>
  [NACLs] <<AWS::EC2::NetworkAcl>>
  [IAM Roles] <<AWS::IAM::Role>>
}

package "Application Stack" {
  [App Template]
  [Load Balancer] <<AWS::ELB::LoadBalancer>>
  [Auto Scaling] <<AWS::AutoScaling::AutoScalingGroup>>
  [Launch Template] <<AWS::EC2::LaunchTemplate>>
}

[Master Template] --> [VPC Template] : deploys
[Master Template] --> [Security Template] : deploys\\n(depends on VPC)
[Master Template] --> [App Template] : deploys\\n(depends on Security)

[VPC Template] --> [VPC Resources]
[VPC Template] --> [Subnets]
[VPC Template] --> [Route Tables]

[Security Template] --> [Security Groups]
[Security Template] --> [NACLs]
[Security Template] --> [IAM Roles]

[App Template] --> [Load Balancer]
[App Template] --> [Auto Scaling]
[App Template] --> [Launch Template]

note right of [Security Template]
  Receives VPC ID from
  VPC Stack outputs
end note

note right of [App Template]
  Receives Security Groups
  from Security Stack outputs
end note
@enduml
`)</script><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>VPCStack</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::CloudFormation::Stack</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>TemplateURL</span>: !<span style=color:#ae81ff>Sub </span>
</span></span><span style=display:flex><span>        - <span style=color:#e6db74>&#39;s3://${BucketName}/vpc-template.yaml&#39;</span>
</span></span><span style=display:flex><span>        - <span style=color:#f92672>BucketName</span>: !<span style=color:#ae81ff>ImportValue TemplateBucketName</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Parameters</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>Environment</span>: !<span style=color:#ae81ff>Ref Environment</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>VPCCidr</span>: !<span style=color:#ae81ff>Ref VPCCidr</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>SecurityStack</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::CloudFormation::Stack</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>DependsOn</span>: <span style=color:#ae81ff>VPCStack</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>TemplateURL</span>: !<span style=color:#ae81ff>Sub </span>
</span></span><span style=display:flex><span>        - <span style=color:#e6db74>&#39;s3://${BucketName}/security-template.yaml&#39;</span>
</span></span><span style=display:flex><span>        - <span style=color:#f92672>BucketName</span>: !<span style=color:#ae81ff>ImportValue TemplateBucketName</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Parameters</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>VPCId</span>: !<span style=color:#ae81ff>GetAtt VPCStack.Outputs.VPCId</span>
</span></span></code></pre></div><h2 id=cloudformation-modules-standardized-resource-collections>CloudFormation Modules: Standardized Resource Collections</h2><p>CloudFormation modules provide a powerful way to package and distribute reusable infrastructure components as versioned artifacts. Unlike nested stacks, modules are registered in your AWS account or AWS Organizations and can be referenced directly in templates. This makes them ideal for standardizing resource configurations across your organization and enforcing architectural best practices.</p><div class=plantuml-container><img id=plantuml-cloudformation-modules-ecosystem class=plantuml-diagram>
<a id=plantuml-link-cloudformation-modules-ecosystem href=# target=_blank class=plantuml-link title="Open diagram in new window"><span class=plantuml-link-icon>🔍</span></a></div><script src=/js/rawdeflate.js></script><script>function encode64(e){r="";for(i=0;i<e.length;i+=3)i+2==e.length?r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),0):i+1==e.length?r+=append3bytes(e.charCodeAt(i),0,0):r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),e.charCodeAt(i+2));return r}function append3bytes(e,t,n){return c1=e>>2,c2=(e&3)<<4|t>>4,c3=(t&15)<<2|n>>6,c4=n&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(e){return e<10?String.fromCharCode(48+e):(e-=10,e<26?String.fromCharCode(65+e):(e-=26,e<26?String.fromCharCode(97+e):(e-=26,e==0?"-":e==1?"_":"?")))}var deflater=window.SharedWorker&&new SharedWorker("/js/rawdeflate.js");deflater?(deflater.port.addEventListener("message",done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker("/js/rawdeflate.js"),deflater.onmessage=done_deflating);function done_deflating(e){const s=document.getElementById("plantuml-cloudformation-modules-ecosystem"),t="https://www.plantuml.com/plantuml/img/"+encode64(e.data);s.src=t;const n=document.getElementById("plantuml-link-cloudformation-modules-ecosystem");n&&(n.href=t)}function compress(e){e=unescape(encodeURIComponent(e)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(e):deflater.postMessage(e):setTimeout(function(){done_deflating({data:deflate(e)})},100)}compress(`
@startuml
!theme cerulean-outline
title CloudFormation Modules Ecosystem

package "Module Development" {
  [Module Template] as module_template
  [Module Schema] as module_schema
  [Version Control] as git
}

package "AWS Registry" {
  [Private Registry] as private_registry
  [Public Registry] as public_registry
  [Module Versions] as versions
}

package "Organization Usage" {
  package "Team A" {
    [Application Template A] as app_a
  }
  
  package "Team B" {
    [Application Template B] as app_b
  }
  
  package "Team C" {
    [Application Template C] as app_c
  }
}

cloud "AWS Account/Organization" {
  [CloudFormation Service] as cf_service
  [Deployed Resources] as resources
}

module_template -> git : version control
module_schema -> git : schema definition

git -> private_registry : register module\\n(cfn submit)
private_registry -> versions : v1.0, v1.1, v2.0

app_a -> private_registry : reference\\nMyOrg::WebApplication
app_b -> private_registry : reference\\nMyOrg::WebApplication  
app_c -> private_registry : reference\\nMyOrg::WebApplication

private_registry -> cf_service : resolve module\\nat deployment time
cf_service -> resources : deploy standardized\\nresource configurations

note right of versions
  Modules are versioned
  artifacts ensuring
  consistency across teams
end note

note bottom of private_registry
  Modules enforce
  organizational standards
  and best practices
end note
@enduml
`)</script><p>Here&rsquo;s an example of a module that defines a standardized web application stack with an Application Load Balancer, Auto Scaling Group, and associated security groups:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># webapp-module.yaml</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>ALBSecurityGroup</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::EC2::SecurityGroup</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>GroupDescription</span>: <span style=color:#ae81ff>Security group for ALB</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>SecurityGroupIngress</span>:
</span></span><span style=display:flex><span>        - <span style=color:#f92672>IpProtocol</span>: <span style=color:#ae81ff>tcp</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>FromPort</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>ToPort</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>CidrIp</span>: <span style=color:#ae81ff>0.0.0.0</span><span style=color:#ae81ff>/0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>WebServerSecurityGroup</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::EC2::SecurityGroup</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>GroupDescription</span>: <span style=color:#ae81ff>Security group for web servers</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>SecurityGroupIngress</span>:
</span></span><span style=display:flex><span>        - <span style=color:#f92672>IpProtocol</span>: <span style=color:#ae81ff>tcp</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>FromPort</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>ToPort</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>SourceSecurityGroupId</span>: !<span style=color:#ae81ff>Ref ALBSecurityGroup</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ApplicationLoadBalancer</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::ElasticLoadBalancingV2::LoadBalancer</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Scheme</span>: <span style=color:#ae81ff>internet-facing</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>SecurityGroups</span>: 
</span></span><span style=display:flex><span>        - !<span style=color:#ae81ff>Ref ALBSecurityGroup</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Subnets</span>: !<span style=color:#ae81ff>Ref PublicSubnets</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>AutoScalingGroup</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::AutoScaling::AutoScalingGroup</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>VPCZoneIdentifier</span>: !<span style=color:#ae81ff>Ref PrivateSubnets</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>LaunchTemplate</span>: !<span style=color:#ae81ff>Ref LaunchTemplate</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MinSize</span>: !<span style=color:#ae81ff>Ref MinCapacity</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MaxSize</span>: !<span style=color:#ae81ff>Ref MaxCapacity</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>TargetGroupARNs</span>: 
</span></span><span style=display:flex><span>        - !<span style=color:#ae81ff>Ref TargetGroup</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>ModuleMetadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>Parameters</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>PublicSubnets</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>List&lt;AWS::EC2::Subnet::Id&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Description</span>: <span style=color:#ae81ff>List of public subnet IDs for the ALB</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>PrivateSubnets</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>List&lt;AWS::EC2::Subnet::Id&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Description</span>: <span style=color:#ae81ff>List of private subnet IDs for the EC2 instances</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>MinCapacity</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>Number</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Default</span>: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>MaxCapacity</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>Number</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Default</span>: <span style=color:#ae81ff>6</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>Outputs</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>LoadBalancerDNS</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Description</span>: <span style=color:#ae81ff>DNS name of the Application Load Balancer</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Value</span>: !<span style=color:#ae81ff>GetAtt ApplicationLoadBalancer.DNSName</span>
</span></span></code></pre></div><h3 id=module-versioning-and-update-strategy>Module Versioning and Update Strategy</h3><p>One of the most critical aspects of CloudFormation modules is understanding their versioning behavior and update lifecycle. <strong>Existing stacks do not automatically update when new module versions are published</strong>. This design ensures stability and prevents unexpected changes to production infrastructure.</p><p>When you publish a new version of a module, the following versioning mechanics apply:</p><p><strong>Version Pinning</strong>: Stacks that reference a module are bound to the specific version that was active when the stack was created or last updated. If your stack was deployed when module version 1.2.0 was the default, it continues using 1.2.0 even after version 1.3.0 is published.</p><p><strong>Default Version Management</strong>: The module registry maintains a &ldquo;default version&rdquo; pointer that affects new deployments. When you set version 1.3.0 as the default, new stacks will use this version, but existing stacks remain on their current version.</p><p><strong>Explicit Upgrade Process</strong>: To upgrade existing stacks to a new module version, you must explicitly update the stack. This can be done through:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Option 1: Reference specific version in your template</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>WebApplication</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>MyOrg::WebApplication::MODULE</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>ModuleVersionId</span>: <span style=color:#e6db74>&#34;1.3.0&#34;</span>  <span style=color:#75715e># Explicit version reference</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>PublicSubnets</span>: !<span style=color:#ae81ff>Ref PublicSubnets</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>PrivateSubnets</span>: !<span style=color:#ae81ff>Ref PrivateSubnets</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Option 2: Use the default version (will pick up new defaults on stack updates)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>WebApplication</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>MyOrg::WebApplication</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>PublicSubnets</span>: !<span style=color:#ae81ff>Ref PublicSubnets</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>PrivateSubnets</span>: !<span style=color:#ae81ff>Ref PrivateSubnets</span>
</span></span></code></pre></div><p><strong>Change Impact Assessment</strong>: Before upgrading to a new module version, CloudFormation performs a change analysis similar to stack updates. You can preview changes using:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Preview changes before updating</span>
</span></span><span style=display:flex><span>aws cloudformation create-change-set <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --stack-name my-application-stack <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --change-set-name upgrade-module-version <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --template-body file://template.yaml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --parameters ParameterKey<span style=color:#f92672>=</span>ModuleVersion,ParameterValue<span style=color:#f92672>=</span>1.3.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Review the change set</span>
</span></span><span style=display:flex><span>aws cloudformation describe-change-set <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --stack-name my-application-stack <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --change-set-name upgrade-module-version
</span></span></code></pre></div><p><strong>Rollback Capabilities</strong>: If a module version upgrade causes issues, you can roll back by updating the stack to reference the previous module version, subject to the same change management process.</p><p><strong>Enterprise Update Strategies</strong>: Organizations typically implement controlled module upgrade processes:</p><ul><li><strong>Canary Deployments</strong>: Update a subset of non-critical stacks first to validate new module versions</li><li><strong>Scheduled Maintenance Windows</strong>: Batch module upgrades during approved change windows</li><li><strong>Automated Testing</strong>: Use CI/CD pipelines to test module upgrades in staging environments before production deployment</li><li><strong>Rollback Plans</strong>: Maintain documented procedures for reverting to previous module versions if issues arise</li></ul><p>This versioning approach provides the stability needed for production infrastructure while enabling controlled evolution of standardized patterns across your organization.</p><p>To use this module in your templates, first register it in your AWS account, then reference it like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>PaymentAPI</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>MyOrg::WebApplication</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>PublicSubnets</span>: 
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>subnet-abc123</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>subnet-def456</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>PrivateSubnets</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>subnet-ghi789</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>subnet-jkl012</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MinCapacity</span>: <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MaxCapacity</span>: <span style=color:#ae81ff>8</span>
</span></span></code></pre></div><p>Modules excel at encapsulating complex resource configurations while exposing a simplified interface. Consider a module that provisions a standardized application environment:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>ApplicationEnvironment</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::CloudFormation::ModuleDefaultVersion</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>ModuleName</span>: <span style=color:#ae81ff>MyOrg::ApplicationStack</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>VersionId</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>WebApplication</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>MyOrg::ApplicationStack</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>EnvironmentType</span>: <span style=color:#ae81ff>Production</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>ApplicationName</span>: <span style=color:#ae81ff>MyService</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>InstanceType</span>: <span style=color:#ae81ff>t3.large</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MinCapacity</span>: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>MaxCapacity</span>: <span style=color:#ae81ff>6</span>
</span></span></code></pre></div><h2 id=condition-functions-for-environmental-adaptation>Condition Functions for Environmental Adaptation</h2><p>Condition functions in CloudFormation enable templates to adapt to different environments without maintaining separate versions. Instead of creating distinct templates for development, staging, and production, use conditions to modify resource configurations based on the deployment context. This approach reduces template maintenance overhead while ensuring appropriate resources for each environment.</p><p>The real power of conditions emerges when combining them with mappings to create sophisticated deployment logic. For instance, you might adjust resource configurations based on both environment and region:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>Mappings</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>EnvironmentConfig</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Production</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MultiAZ</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>InstanceType</span>: <span style=color:#ae81ff>r6g.xlarge</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Development</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MultiAZ</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>InstanceType</span>: <span style=color:#ae81ff>t4g.medium</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>Conditions</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>IsProduction</span>: !<span style=color:#ae81ff>Equals </span>
</span></span><span style=display:flex><span>    - !<span style=color:#ae81ff>Ref Environment</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>Production</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>RequiresHighAvailability</span>: !<span style=color:#ae81ff>And</span>
</span></span><span style=display:flex><span>    - !<span style=color:#ae81ff>Condition IsProduction</span>
</span></span><span style=display:flex><span>    - !<span style=color:#ae81ff>Equals [!Ref AWS::Region, us-east-1]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>Database</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::RDS::DBInstance</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>MultiAZ</span>: !<span style=color:#ae81ff>If </span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>RequiresHighAvailability</span>
</span></span><span style=display:flex><span>        - <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        - <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>DBInstanceClass</span>: !<span style=color:#ae81ff>FindInMap </span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>EnvironmentConfig</span>
</span></span><span style=display:flex><span>        - !<span style=color:#ae81ff>Ref Environment</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>InstanceType</span>
</span></span></code></pre></div><h2 id=stack-policies-for-change-control>Stack Policies for Change Control</h2><p>Stack policies provide fine-grained control over resource updates, helping prevent accidental modifications to critical resources. Rather than applying blanket update restrictions, consider crafting policies that reflect your infrastructure&rsquo;s stability requirements while maintaining operational flexibility.</p><div class=plantuml-container><img id=plantuml-stack-policy-decision-tree class=plantuml-diagram>
<a id=plantuml-link-stack-policy-decision-tree href=# target=_blank class=plantuml-link title="Open diagram in new window"><span class=plantuml-link-icon>🔍</span></a></div><script src=/js/rawdeflate.js></script><script>function encode64(e){r="";for(i=0;i<e.length;i+=3)i+2==e.length?r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),0):i+1==e.length?r+=append3bytes(e.charCodeAt(i),0,0):r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),e.charCodeAt(i+2));return r}function append3bytes(e,t,n){return c1=e>>2,c2=(e&3)<<4|t>>4,c3=(t&15)<<2|n>>6,c4=n&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(e){return e<10?String.fromCharCode(48+e):(e-=10,e<26?String.fromCharCode(65+e):(e-=26,e<26?String.fromCharCode(97+e):(e-=26,e==0?"-":e==1?"_":"?")))}var deflater=window.SharedWorker&&new SharedWorker("/js/rawdeflate.js");deflater?(deflater.port.addEventListener("message",done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker("/js/rawdeflate.js"),deflater.onmessage=done_deflating);function done_deflating(e){const s=document.getElementById("plantuml-stack-policy-decision-tree"),t="https://www.plantuml.com/plantuml/img/"+encode64(e.data);s.src=t;const n=document.getElementById("plantuml-link-stack-policy-decision-tree");n&&(n.href=t)}function compress(e){e=unescape(encodeURIComponent(e)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(e):deflater.postMessage(e):setTimeout(function(){done_deflating({data:deflate(e)})},100)}compress(`
@startuml
!theme cerulean-outline
title Stack Policy Decision Tree

start

:CloudFormation Update Request;

if (Resource Type?) then (Critical Infrastructure)
  if (Operation Type?) then (Replace)
    :DENY Update;
    :Log security violation;
    stop
  else (Modify/Add)
    if (Change affects network topology?) then (Yes)
      :Require additional approval;
      :Send notification to\\nnetwork security team;
      if (Manual approval received?) then (Yes)
        :ALLOW Update;
        :Log approved change;
      else (No)
        :DENY Update;
        :Log denied change;
        stop
      endif
    else (No)
      :ALLOW Update;
      :Log routine change;
    endif
  endif
else (Application Components)
  if (Environment?) then (Production)
    if (Business hours?) then (Yes)
      :Require change window;
      if (In approved window?) then (Yes)
        :ALLOW Update;
        :Log scheduled change;
      else (No)
        :DENY Update;
        :Suggest off-hours deployment;
        stop
      endif
    else (No)
      :ALLOW Update;
      :Log off-hours change;
    endif
  else (Dev/Staging)
    :ALLOW Update;
    :Log development change;
  endif
endif

:Execute CloudFormation Update;
:Monitor for drift;
stop
@enduml
`)</script><p>A sophisticated stack policy might protect core network resources while allowing routine updates to application components:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Statement&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Effect&#34;</span>: <span style=color:#e6db74>&#34;Allow&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Action&#34;</span>: <span style=color:#e6db74>&#34;Update:*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Principal&#34;</span>: <span style=color:#e6db74>&#34;*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Resource&#34;</span>: <span style=color:#e6db74>&#34;*&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Effect&#34;</span>: <span style=color:#e6db74>&#34;Deny&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Action&#34;</span>: <span style=color:#e6db74>&#34;Update:Replace&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Principal&#34;</span>: <span style=color:#e6db74>&#34;*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Resource&#34;</span>: <span style=color:#e6db74>&#34;*&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Condition&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;StringEquals&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;ResourceType&#34;</span>: [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;AWS::EC2::VPC&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;AWS::EC2::Subnet&#34;</span>
</span></span><span style=display:flex><span>          ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=drift-detection-and-compliance>Drift Detection and Compliance</h2><p>Infrastructure drift can undermine the benefits of IaC. CloudFormation drift detection helps identify unauthorized changes, but implementing a comprehensive drift management strategy requires more than occasional checks. Consider implementing automated drift detection as part of your continuous integration pipeline.</p><div class=plantuml-container><img id=plantuml-drift-detection-workflow class=plantuml-diagram>
<a id=plantuml-link-drift-detection-workflow href=# target=_blank class=plantuml-link title="Open diagram in new window"><span class=plantuml-link-icon>🔍</span></a></div><script src=/js/rawdeflate.js></script><script>function encode64(e){r="";for(i=0;i<e.length;i+=3)i+2==e.length?r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),0):i+1==e.length?r+=append3bytes(e.charCodeAt(i),0,0):r+=append3bytes(e.charCodeAt(i),e.charCodeAt(i+1),e.charCodeAt(i+2));return r}function append3bytes(e,t,n){return c1=e>>2,c2=(e&3)<<4|t>>4,c3=(t&15)<<2|n>>6,c4=n&63,r="",r+=encode6bit(c1&63),r+=encode6bit(c2&63),r+=encode6bit(c3&63),r+=encode6bit(c4&63),r}function encode6bit(e){return e<10?String.fromCharCode(48+e):(e-=10,e<26?String.fromCharCode(65+e):(e-=26,e<26?String.fromCharCode(97+e):(e-=26,e==0?"-":e==1?"_":"?")))}var deflater=window.SharedWorker&&new SharedWorker("/js/rawdeflate.js");deflater?(deflater.port.addEventListener("message",done_deflating,!1),deflater.port.start()):window.Worker&&(deflater=new Worker("/js/rawdeflate.js"),deflater.onmessage=done_deflating);function done_deflating(e){const s=document.getElementById("plantuml-drift-detection-workflow"),t="https://www.plantuml.com/plantuml/img/"+encode64(e.data);s.src=t;const n=document.getElementById("plantuml-link-drift-detection-workflow");n&&(n.href=t)}function compress(e){e=unescape(encodeURIComponent(e)),deflater?deflater.port&&deflater.port.postMessage?deflater.port.postMessage(e):deflater.postMessage(e):setTimeout(function(){done_deflating({data:deflate(e)})},100)}compress(`
@startuml
!theme cerulean-outline
title Drift Detection and Compliance Workflow

participant "CI/CD Pipeline" as pipeline
participant "CloudFormation" as cf
participant "Drift Detection" as drift
participant "EventBridge" as events
participant "Lambda Function" as lambda
participant "SNS" as sns
participant "Security Team" as security
participant "Auto-Remediation" as remediation

pipeline -> cf: Deploy stack
activate cf

cf -> drift: Schedule drift detection\\n(every 4 hours)
activate drift

loop Continuous Monitoring
  drift -> cf: Detect drift on stack
  
  alt No drift detected
    drift -> events: Send "NO_DRIFT" event
    events -> lambda: Process compliance check
    lambda -> lambda: Log compliance status
  else Drift detected
    drift -> events: Send "DRIFTED" event
    events -> lambda: Process drift analysis
    activate lambda
      lambda -> lambda: Analyze drift severity\\nand affected resources
    
    alt Critical resource drift
      lambda -> sns: Send critical alert
      sns -> security: Notify security team
      security -> remediation: Initiate emergency response
      activate remediation
      
      remediation -> cf: Revert unauthorized changes
      remediation -> lambda: Log remediation action
      deactivate remediation
    else Non-critical drift
      lambda -> sns: Send warning notification
      lambda -> lambda: Create remediation ticket
      
      note over lambda
        Schedule automated
        remediation during
        next maintenance window
      end note
    end
    
    deactivate lambda
  end
end

note right of drift
  Drift detection runs:
  - Scheduled intervals
  - Post-deployment
  - On-demand triggers
  - Compliance audits
end note

note right of lambda
  Drift analysis includes:
  - Resource type assessment
  - Change impact evaluation
  - Compliance policy check
  - Auto-remediation feasibility
end note

deactivate drift
deactivate cf
@enduml
`)</script><p>CloudFormation hook types extend this capability by enabling pre-deployment validation of changes against organizational policies. These hooks integrate with AWS Organizations, ensuring consistent policy enforcement across your entire infrastructure:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>ComplianceHook</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::CloudFormation::Hook</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>TargetStacks</span>: <span style=color:#ae81ff>FULL_STACK</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>FailureMode</span>: <span style=color:#ae81ff>FAIL</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>ConfigurationSchema</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>AllowedInstanceTypes</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>Array</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>Items</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>String</span>
</span></span></code></pre></div><h2 id=conclusion>Conclusion</h2><p>Advanced CloudFormation patterns enable you to build more maintainable, secure, and scalable infrastructure. By leveraging custom resources, macros, and sophisticated condition handling, you can create templates that adapt to different environments while maintaining consistency and compliance. Remember that the most effective patterns are those that balance flexibility with maintainability, ensuring your infrastructure remains manageable as it grows in complexity.</p></div><div class=social-share><h3 class=social-share-title>Share this post</h3><div class=social-share-buttons><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F&text=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns+-+%3Ch2+id%3D%22introduction%22%3EIntroduction%3C%2Fh2%3E%0A%3Cp%3EInfrastructure+as+Code+%28IaC%29+has+revolutionized+how+we+manage+cloud+resources%2C+and+AWS+CloudFormation+stands+at+the+forefront+of+this+%E2%80%A6%3C%2Fp%3E" target=_blank rel="noopener noreferrer" class="social-share-button twitter" title="Share on Twitter"><svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
<span>Twitter</span>
</a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" target=_blank rel="noopener noreferrer" class="social-share-button linkedin" title="Share on LinkedIn"><svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
<span>LinkedIn</span>
</a><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" target=_blank rel="noopener noreferrer" class="social-share-button facebook" title="Share on Facebook"><svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312.0 2.686.235 2.686.235v2.953H15.83c-1.491.0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
<span>Facebook</span>
</a><a href="https://reddit.com/submit?url=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F&title=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns" target=_blank rel="noopener noreferrer" class="social-share-button reddit" title="Share on Reddit"><svg viewBox="0 0 24 24"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg>
<span>Reddit</span>
</a><a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F&t=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns" target=_blank rel="noopener noreferrer" class="social-share-button hackernews" title="Share on Hacker News"><svg viewBox="0 0 24 24"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
<span>Hacker News</span>
</a><a href="https://wa.me/?text=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns+https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" target=_blank rel="noopener noreferrer" class="social-share-button whatsapp" title="Share on WhatsApp"><svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198.0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479.0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87.0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86.0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64.0 5.122 1.03 6.988 2.898a9.825 9.825.0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815.0 0012.05.0C5.495.0.16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882.0 005.683 1.448h.005c6.554.0 11.89-5.335 11.893-11.893A11.821 11.821.0 0020.465 3.488"/></svg>
<span>WhatsApp</span>
</a><a href="mailto:?subject=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns&body=Check+out+this+article%3A+Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns+-+https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" class="social-share-button email" title="Share via Email"><svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"/></svg>
<span>Email</span>
</a><button type=button class="social-share-button copy-link" data-url=https://scottobert.com/posts/advanced-cloudformation-patterns/ title="Copy link to clipboard">
<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1.0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1.0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1.0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
<span>Copy Link</span></button></div></div><script>(function(){const n=document.querySelectorAll(".copy-link");n.forEach(n=>{n.addEventListener("click",function(){const n=this.getAttribute("data-url");navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(n).then(()=>{t(this)}).catch(()=>{e(n,this)}):e(n,this)})});function e(e,n){const o=document.createElement("textarea");o.value=e,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select();try{document.execCommand("copy"),t(n)}catch(e){console.error("Fallback: Unable to copy",e),s(n)}document.body.removeChild(o)}function t(e){const t=e.querySelector("span").textContent;e.querySelector("span").textContent="Copied!",e.classList.add("copied"),setTimeout(()=>{e.querySelector("span").textContent=t,e.classList.remove("copied")},2e3)}function s(e){const t=e.querySelector("span").textContent;e.querySelector("span").textContent="Error",e.classList.add("error"),setTimeout(()=>{e.querySelector("span").textContent=t,e.classList.remove("error")},2e3)}})()</script><div id=comments-section style="margin-top:2rem;padding-top:2rem;border-top:1px solid #e1e5e9"><h3 style=margin-bottom:1rem;color:#586069>Comments</h3><script src=https://giscus.app/client.js data-repo=scottobert/scottobert.github.io data-repo-id=R_kgDOHRSG6A data-category=General data-category-id=DIC_kwDOHRSG6M4CrQaA data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=light data-lang=en data-loading=lazy crossorigin=anonymous async></script></div></article><div class=floating-social-share id=floating-share><div class=floating-share-toggle id=share-toggle title="Share this post"><svg viewBox="0 0 24 24"><path d="M18 16.08c-.76.0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66.0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66.0-3 1.34-3 3s1.34 3 3 3c.79.0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65.0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/></svg></div><div class=floating-share-buttons id=share-buttons><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F&text=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns" target=_blank rel="noopener noreferrer" class="floating-share-button twitter" title="Share on Twitter"><svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
</a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" target=_blank rel="noopener noreferrer" class="floating-share-button linkedin" title="Share on LinkedIn"><svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
</a><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" target=_blank rel="noopener noreferrer" class="floating-share-button facebook" title="Share on Facebook"><svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312.0 2.686.235 2.686.235v2.953H15.83c-1.491.0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
</a><a href="https://reddit.com/submit?url=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F&title=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns" target=_blank rel="noopener noreferrer" class="floating-share-button reddit" title="Share on Reddit"><svg viewBox="0 0 24 24"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg>
</a><a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F&t=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns" target=_blank rel="noopener noreferrer" class="floating-share-button hackernews" title="Share on Hacker News"><svg viewBox="0 0 24 24"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
</a><a href="https://wa.me/?text=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns+https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" target=_blank rel="noopener noreferrer" class="floating-share-button whatsapp" title="Share on WhatsApp"><svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198.0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479.0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87.0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86.0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64.0 5.122 1.03 6.988 2.898a9.825 9.825.0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815.0 0012.05.0C5.495.0.16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882.0 005.683 1.448h.005c6.554.0 11.89-5.335 11.893-11.893A11.821 11.821.0 0020.465 3.488"/></svg>
</a><a href="mailto:?subject=Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns&body=Check+out+this+article%3A+Infrastructure+as+Code%3A+Advanced+CloudFormation+Patterns+-+https%3A%2F%2Fscottobert.com%2Fposts%2Fadvanced-cloudformation-patterns%2F" class="floating-share-button email" title="Share via Email"><svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"/></svg>
</a><button type=button class="floating-share-button copy-link" data-url=https://scottobert.com/posts/advanced-cloudformation-patterns/ title="Copy link">
<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1.0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1.0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1.0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg></button></div></div><script>(function(){const s=document.getElementById("floating-share"),t=document.getElementById("share-toggle"),n=document.getElementById("share-buttons");if(!s||!t||!n)return;let e=!1,o;t.addEventListener("click",function(){e=!e,e?(n.classList.add("visible"),t.classList.add("active"),clearTimeout(o)):(n.classList.remove("visible"),t.classList.remove("active"))});function i(){clearTimeout(o),o=setTimeout(()=>{e&&(n.classList.remove("visible"),t.classList.remove("active"),e=!1)},5e3)}s.addEventListener("mouseenter",()=>{clearTimeout(o)}),s.addEventListener("mouseleave",()=>{e&&i()}),t.addEventListener("click",()=>{e&&i()});let l=0;const d=300;window.addEventListener("scroll",function(){const o=window.pageYOffset||document.documentElement.scrollTop;o>d?s.classList.add("visible"):(s.classList.remove("visible"),e&&(n.classList.remove("visible"),t.classList.remove("active"),e=!1)),l=o});const a=n.querySelector(".copy-link");a&&a.addEventListener("click",function(){const e=this.getAttribute("data-url");navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{c(this)}).catch(()=>{r(e,this)}):r(e,this)});function r(e,t){const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy"),c(t)}catch(e){console.error("Fallback: Unable to copy",e)}document.body.removeChild(n)}function c(e){e.classList.add("copied"),setTimeout(()=>{e.classList.remove("copied")},2e3)}})()</script></main><aside class=blog-sidebar><div class=sidebar-widget><h3>Recent Posts</h3><ul class=recent-posts><li><a href=/posts/advanced-cloudformation-patterns/>Infrastructure as Code: Advanced CloudFormation Patterns</a>
<span class=post-date>Jun 13, 2025</span></li><li><a href=/posts/reverting-git-commits-safely/>Reverting Git Commits Safely: Undoing Changes Without Losing History</a>
<span class=post-date>Jun 11, 2025</span></li><li><a href=/posts/dynamodb-streams-opensearch-sync/>Real-time Data Synchronization: Using DynamoDB Streams and Lambda to Keep OpenSearch Indexes Current</a>
<span class=post-date>Jun 6, 2025</span></li><li><a href=/posts/using-ai-in-software-engineering/>Harnessing AI in Software Engineering: Opportunities and Challenges</a>
<span class=post-date>May 29, 2025</span></li><li><a href=/posts/aws-websockets-typescript/>Real-time Applications with AWS WebSockets and TypeScript</a>
<span class=post-date>Aug 13, 2023</span></li></ul></div><div class=sidebar-widget><h3>Post Series</h3><ul class=recent-posts><li><a href=/posts/aws-websockets-typescript/>AWS and Typescript: Real-time Applications with AWS WebSockets and TypeScript</a>
<span class=post-date>Aug 13, 2023</span><div class=series-meta><a href=/series/aws-and-typescript/ class=series-link>View all 7 posts in series →</a></div></li><li><a href=/posts/real-time-processing-architectures/>Cloud Architecture Patterns: Real-time Processing Architectures</a>
<span class=post-date>Apr 11, 2021</span><div class=series-meta><a href=/series/cloud-architecture-patterns/ class=series-link>View all 7 posts in series →</a></div></li><li><a href=/posts/technical-debt-management-growing-codebases/>Modern Development Practices: Technical Debt Management in Growing Codebases: Strategies for Sustainable Development</a>
<span class=post-date>Dec 19, 2021</span><div class=series-meta><a href=/series/modern-development-practices/ class=series-link>View all 7 posts in series →</a></div></li><li><a href=/posts/threat-modeling-cloud-applications/>Security in Cloud-Native Applications: Threat Modeling for Cloud Applications: A Comprehensive Approach to Security Design</a>
<span class=post-date>Oct 19, 2019</span><div class=series-meta><a href=/series/security-in-cloud-native-applications/ class=series-link>View all 7 posts in series →</a></div></li></ul></div><div class=sidebar-widget><h3>Categories</h3><ul class=categories><li><a href=/categories/api-development>api development (2)</a></li><li><a href=/categories/architecture>architecture (2)</a></li><li><a href=/categories/architecture-and-design>architecture and design (9)</a></li><li><a href=/categories/artificial-intelligence>artificial intelligence (1)</a></li><li><a href=/categories/cloud-computing>cloud computing (21)</a></li><li><a href=/categories/code-quality>code quality (1)</a></li><li><a href=/categories/compliance>compliance (1)</a></li><li><a href=/categories/cost-optimization>cost optimization (1)</a></li><li><a href=/categories/data-engineering>data engineering (3)</a></li><li><a href=/categories/database>database (1)</a></li><li><a href=/categories/database-design>database design (1)</a></li><li><a href=/categories/debugging-and-troubleshooting>debugging and troubleshooting (1)</a></li><li><a href=/categories/developer-experience>developer experience (1)</a></li><li><a href=/categories/development-tools>development tools (3)</a></li><li><a href=/categories/development-tutorials>development tutorials (1)</a></li><li><a href=/categories/infrastructure-as-code>infrastructure as code (1)</a></li><li><a href=/categories/microservices>microservices (1)</a></li><li><a href=/categories/performance>performance (1)</a></li><li><a href=/categories/quality-assurance>quality assurance (1)</a></li><li><a href=/categories/real-time-applications>real-time applications (1)</a></li><li><a href=/categories/security>security (8)</a></li><li><a href=/categories/serverless>serverless (2)</a></li><li><a href=/categories/software-development>software development (8)</a></li><li><a href=/categories/technical-debt>technical debt (1)</a></li><li><a href=/categories/testing>testing (2)</a></li><li><a href=/categories/version-control>version control (2)</a></li></ul></div><div class=sidebar-widget><h3>Tags</h3><div class=tag-cloud><a href=/tags/ai class=tag-cloud-item style=font-size:1rem>ai
</a><a href=/tags/api-design class=tag-cloud-item style=font-size:1rem>api design
</a><a href=/tags/api-gateway class=tag-cloud-item style=font-size:1rem>api gateway
</a><a href=/tags/api-security class=tag-cloud-item style=font-size:1rem>api security
</a><a href=/tags/architecture class=tag-cloud-item style=font-size:2rem>architecture
</a><a href=/tags/athena class=tag-cloud-item style=font-size:1rem>athena
</a><a href=/tags/authentication class=tag-cloud-item style=font-size:1rem>authentication
</a><a href=/tags/authorization class=tag-cloud-item style=font-size:1rem>authorization
</a><a href=/tags/automation class=tag-cloud-item style=font-size:1rem>automation
</a><a href=/tags/aws class=tag-cloud-item style=font-size:3rem>aws
</a><a href=/tags/aws-lambda class=tag-cloud-item style=font-size:1rem>aws lambda
</a><a href=/tags/best-practices class=tag-cloud-item style=font-size:2rem>best practices
</a><a href=/tags/cdk class=tag-cloud-item style=font-size:1rem>cdk
</a><a href=/tags/chaos-engineering class=tag-cloud-item style=font-size:1rem>chaos engineering
</a><a href=/tags/ci/cd class=tag-cloud-item style=font-size:1rem>ci/cd
</a><a href=/tags/cloud-native class=tag-cloud-item style=font-size:1rem>cloud native
</a><a href=/tags/cloudformation class=tag-cloud-item style=font-size:1rem>cloudformation
</a><a href=/tags/cloudnative class=tag-cloud-item style=font-size:1rem>cloudnative
</a><a href=/tags/code-quality class=tag-cloud-item style=font-size:1rem>code quality
</a><a href=/tags/communication-patterns class=tag-cloud-item style=font-size:1rem>communication patterns
</a><a href=/tags/compliance class=tag-cloud-item style=font-size:1rem>compliance
</a><a href=/tags/containers class=tag-cloud-item style=font-size:1rem>containers
</a><a href=/tags/cost-optimization class=tag-cloud-item style=font-size:1rem>cost optimization
</a><a href=/tags/cqrs class=tag-cloud-item style=font-size:1rem>cqrs
</a><a href=/tags/data-architecture class=tag-cloud-item style=font-size:1rem>data architecture
</a><a href=/tags/data-lake class=tag-cloud-item style=font-size:1rem>data lake
</a><a href=/tags/data-modeling class=tag-cloud-item style=font-size:1rem>data modeling
</a><a href=/tags/database class=tag-cloud-item style=font-size:1rem>database
</a><a href=/tags/database-design class=tag-cloud-item style=font-size:1rem>database design
</a><a href=/tags/debugging class=tag-cloud-item style=font-size:1rem>debugging
</a><a href=/tags/debugging-and-troubleshooting class=tag-cloud-item style=font-size:1rem>debugging and troubleshooting
</a><a href=/tags/developer-tips class=tag-cloud-item style=font-size:1rem>developer tips
</a><a href=/tags/development class=tag-cloud-item style=font-size:2rem>development
</a><a href=/tags/devops class=tag-cloud-item style=font-size:1rem>devops
</a><a href=/tags/devsecops class=tag-cloud-item style=font-size:1rem>devsecops
</a><a href=/tags/distributed-systems class=tag-cloud-item style=font-size:1rem>distributed systems
</a><a href=/tags/docker class=tag-cloud-item style=font-size:1rem>docker
</a><a href=/tags/dynamodb class=tag-cloud-item style=font-size:1rem>dynamodb
</a><a href=/tags/encryption class=tag-cloud-item style=font-size:1rem>encryption
</a><a href=/tags/enterprise-architecture class=tag-cloud-item style=font-size:1rem>enterprise architecture
</a><a href=/tags/event-sourcing class=tag-cloud-item style=font-size:1rem>event sourcing
</a><a href=/tags/event-driven-architecture class=tag-cloud-item style=font-size:1rem>event-driven architecture
</a><a href=/tags/eventbridge class=tag-cloud-item style=font-size:1rem>eventbridge
</a><a href=/tags/fault-tolerance class=tag-cloud-item style=font-size:1rem>fault tolerance
</a><a href=/tags/gdpr class=tag-cloud-item style=font-size:1rem>gdpr
</a><a href=/tags/git class=tag-cloud-item style=font-size:1rem>git
</a><a href=/tags/glue class=tag-cloud-item style=font-size:1rem>glue
</a><a href=/tags/governance class=tag-cloud-item style=font-size:1rem>governance
</a><a href=/tags/graphql class=tag-cloud-item style=font-size:1rem>graphql
</a><a href=/tags/hipaa class=tag-cloud-item style=font-size:1rem>hipaa
</a><a href=/tags/iam class=tag-cloud-item style=font-size:1rem>iam
</a><a href=/tags/identity-management class=tag-cloud-item style=font-size:1rem>identity management
</a><a href=/tags/infrastructure class=tag-cloud-item style=font-size:1rem>infrastructure
</a><a href=/tags/infrastructure-as-code class=tag-cloud-item style=font-size:1rem>infrastructure as code
</a><a href=/tags/jwt class=tag-cloud-item style=font-size:1rem>jwt
</a><a href=/tags/kinesis class=tag-cloud-item style=font-size:1rem>kinesis
</a><a href=/tags/kubernetes class=tag-cloud-item style=font-size:1rem>kubernetes
</a><a href=/tags/lambda class=tag-cloud-item style=font-size:1rem>lambda
</a><a href=/tags/load-testing class=tag-cloud-item style=font-size:1rem>load testing
</a><a href=/tags/metrics class=tag-cloud-item style=font-size:1rem>metrics
</a><a href=/tags/microservices class=tag-cloud-item style=font-size:1rem>microservices
</a><a href=/tags/monitoring class=tag-cloud-item style=font-size:1rem>monitoring
</a><a href=/tags/multi-account class=tag-cloud-item style=font-size:1rem>multi-account
</a><a href=/tags/nosql class=tag-cloud-item style=font-size:1rem>nosql
</a><a href=/tags/oauth class=tag-cloud-item style=font-size:1rem>oauth
</a><a href=/tags/octave class=tag-cloud-item style=font-size:1rem>octave
</a><a href=/tags/opensearch class=tag-cloud-item style=font-size:1rem>opensearch
</a><a href=/tags/pasta class=tag-cloud-item style=font-size:1rem>pasta
</a><a href=/tags/patterns class=tag-cloud-item style=font-size:1rem>patterns
</a><a href=/tags/pci-dss class=tag-cloud-item style=font-size:1rem>pci-dss
</a><a href=/tags/performance-testing class=tag-cloud-item style=font-size:1rem>performance testing
</a><a href=/tags/productivity class=tag-cloud-item style=font-size:1rem>productivity
</a><a href=/tags/rate-limiting class=tag-cloud-item style=font-size:1rem>rate limiting
</a><a href=/tags/real-time class=tag-cloud-item style=font-size:1rem>real-time
</a><a href=/tags/refactoring class=tag-cloud-item style=font-size:1rem>refactoring
</a><a href=/tags/reliability class=tag-cloud-item style=font-size:1rem>reliability
</a><a href=/tags/resilience class=tag-cloud-item style=font-size:1rem>resilience
</a><a href=/tags/rest class=tag-cloud-item style=font-size:1rem>rest
</a><a href=/tags/rest-api class=tag-cloud-item style=font-size:1rem>rest api
</a><a href=/tags/riskassessment class=tag-cloud-item style=font-size:1rem>riskassessment
</a><a href=/tags/s3 class=tag-cloud-item style=font-size:1rem>s3
</a><a href=/tags/search class=tag-cloud-item style=font-size:1rem>search
</a><a href=/tags/secrets-management class=tag-cloud-item style=font-size:1rem>secrets management
</a><a href=/tags/security class=tag-cloud-item style=font-size:2rem>security
</a><a href=/tags/securitydesign class=tag-cloud-item style=font-size:1rem>securitydesign
</a><a href=/tags/serverless class=tag-cloud-item style=font-size:2rem>serverless
</a><a href=/tags/soc2 class=tag-cloud-item style=font-size:1rem>soc2
</a><a href=/tags/software-engineering class=tag-cloud-item style=font-size:1rem>software engineering
</a><a href=/tags/standards class=tag-cloud-item style=font-size:1rem>standards
</a><a href=/tags/stream-processing class=tag-cloud-item style=font-size:1rem>stream processing
</a><a href=/tags/streams class=tag-cloud-item style=font-size:1rem>streams
</a><a href=/tags/stride class=tag-cloud-item style=font-size:1rem>stride
</a><a href=/tags/tdd class=tag-cloud-item style=font-size:1rem>tdd
</a><a href=/tags/technical-debt class=tag-cloud-item style=font-size:1rem>technical debt
</a><a href=/tags/testing class=tag-cloud-item style=font-size:1rem>testing
</a><a href=/tags/threatmodeling class=tag-cloud-item style=font-size:1rem>threatmodeling
</a><a href=/tags/typescript class=tag-cloud-item style=font-size:2rem>typescript
</a><a href=/tags/version-control class=tag-cloud-item style=font-size:1rem>version control
</a><a href=/tags/websockets class=tag-cloud-item style=font-size:1rem>websockets
</a><a href=/tags/zero-trust class=tag-cloud-item style=font-size:1rem>zero trust</a></div></div><div class=sidebar-widget><h3>Subscribe</h3><div class=subscribe-links><a href=/index.xml class=rss-link><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg>
RSS Feed</a></div></div><div class="sidebar-widget npm-packages"><h3>My NPM Packages</h3><div id=npm-list></div></div></aside></div></div><footer class=site-footer><div class=container><p>&copy; 2025 Scott Obert</p></div></footer></body></html>
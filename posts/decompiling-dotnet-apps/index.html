<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Scott Obert</title><link rel=stylesheet href=/css/style.css><script src=/js/npm-packages.js defer></script><script defer src=https://cloud.umami.is/script.js data-website-id=e2461896-021d-422a-b83f-624a8819309b></script></head><body><header class=site-header><div class=container><div class=header-content><div class=header-left><h1><a href=/>Scott Obert</a></h1><nav><a href=/posts/>Blog</a></nav></div><div class=social-links><a href=https://www.linkedin.com/in/scott-obert-3a7338b/ target=_blank rel="noopener noreferrer" title="LinkedIn Profile"><svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
<span>LinkedIn</span>
</a><a href=https://github.com/scottobert target=_blank rel="noopener noreferrer" title="GitHub Profile"><svg viewBox="0 0 24 24"><path d="M12 0C5.37.0.0 5.37.0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.385-1.335-1.755-1.335-1.755-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.605-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.63-5.37-12-12-12"/></svg>
<span>GitHub</span></a></div></div></div></header><div class=container><div class=content-layout><main class=main-content><article class=post><h1>Decompiling dotnet apps</h1><div class=post-meta><span>Apr 12, 2022</span>
<span>| Tags: Development, Debugging, Developer Tips</span></div><div class=post-content><p>Sometimes as developers we run into a legacy application that has been running in production for years when suddenly a bug surfaces. If nobody knows where the source code for that legacy application is, that can be a huge problem.</p><h2 id=introduction-to-net-decompilation>Introduction to .NET Decompilation</h2><p>Decompilation is the process of converting compiled .NET assemblies (DLLs or EXEs) back into readable source code. This can be incredibly useful when:</p><ul><li>Dealing with legacy applications without source code</li><li>Debugging production issues where deployed code differs from source control</li><li>Understanding third-party libraries when documentation is insufficient</li><li>Investigating potential security issues or malware</li></ul><h2 id=using-dotpeek>Using dotPeek</h2><p><a href=https://www.jetbrains.com/decompiler/>dotPeek</a> by JetBrains is a powerful free .NET decompiler that can help solve these problems. I recently had an occasion to use it, and even without the .pdb file, it was able to decompile the code to be very close to the source code we had in source control that we knew wasn&rsquo;t what was running in production.</p><h3 id=key-features>Key Features</h3><ul><li>Free and lightweight</li><li>Supports .NET Framework and .NET Core assemblies</li><li>Decompiles to C# or IL</li><li>Can export decompiled code to Visual Studio projects</li><li>Integrates with Visual Studio</li><li>Symbol server support</li></ul><h3 id=getting-started>Getting Started</h3><ol><li>Download and install dotPeek from JetBrains website</li><li>Open your assembly (DLL or EXE)</li><li>Navigate through the decompiled code using the Assembly Explorer</li><li>Export code or copy specific sections as needed</li></ol><h2 id=alternative-tools>Alternative Tools</h2><p>While dotPeek is excellent, there are other tools worth considering:</p><ol><li><p><strong>ILSpy</strong></p><ul><li>Open source</li><li>Available as Visual Studio extension</li><li>Supports latest .NET versions</li><li>Can decompile to C# or Visual Basic</li></ul></li><li><p><strong>dnSpy</strong></p><ul><li>Includes debugger</li><li>Allows editing of decompiled code</li><li>Great for runtime analysis</li><li>Note: Development discontinued, but still useful</li></ul></li><li><p><strong>Telerik JustDecompile</strong></p><ul><li>Free tool</li><li>Good integration with Visual Studio</li><li>Plugin system for extensibility</li></ul></li></ol><h2 id=best-practices>Best Practices</h2><p>When working with decompiled code:</p><ol><li><p><strong>Legal Considerations</strong></p><ul><li>Ensure you have the right to decompile the code</li><li>Check license agreements</li><li>Document why decompilation was necessary</li></ul></li><li><p><strong>Code Management</strong></p><ul><li>Create a new repository for decompiled code</li><li>Document the origin of the assembly</li><li>Note any modifications made</li><li>Include the original assembly&rsquo;s version</li></ul></li><li><p><strong>Debugging Tips</strong></p><ul><li>Compare decompiled code with any available source</li><li>Use symbol servers when possible</li><li>Document any discrepancies found</li><li>Consider setting up a proper source control system for future deployments</li></ul></li></ol><h2 id=real-world-example>Real-World Example</h2><p>Here&rsquo;s a practical example of using dotPeek:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#75715e>// Original compiled assembly: LegacyApp.dll</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// No source code available, bug reported in production</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Using dotPeek to investigate</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Decompiled code revealed:</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DataProcessor</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> ProcessData(<span style=color:#66d9ef>string</span> input)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>string</span>.IsNullOrEmpty(input))
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>;  <span style=color:#75715e>// Found the bug: silent failure instead of error</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Rest of the processing logic</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In this case, decompilation revealed a silent failure that should have thrown an exception, helping us identify the root cause of production issues.</p><h2 id=prevention-strategies>Prevention Strategies</h2><p>To avoid similar situations in the future:</p><ol><li><p><strong>Source Control</strong></p><ul><li>Maintain comprehensive source control</li><li>Tag/branch all production releases</li><li>Include build artifacts metadata</li></ul></li><li><p><strong>Documentation</strong></p><ul><li>Document build and deployment processes</li><li>Maintain a catalog of applications and their sources</li><li>Keep records of deployment locations</li></ul></li><li><p><strong>Build Process</strong></p><ul><li>Generate and store PDB files</li><li>Consider using Source Link</li><li>Implement deterministic builds</li></ul></li></ol><h2 id=conclusion>Conclusion</h2><p>While tools like dotPeek are invaluable for recovering lost source code, the best approach is to prevent the need for decompilation through proper source control and documentation practices. However, when you do need to decompile code, understanding these tools and following best practices can make the process much more manageable.</p></div></article></main><aside class=blog-sidebar><div class=sidebar-widget><h3>Recent Posts</h3><ul class=recent-posts><li><a href=/posts/using-ai-in-software-engineering/>Harnessing AI in Software Engineering: Opportunities and Challenges</a>
<span class=post-date>May 29, 2025</span></li><li><a href=/posts/aws-sns-sqs-typescript/>Building Event-Driven Architectures with AWS SNS/SQS and TypeScript</a>
<span class=post-date>May 21, 2023</span></li><li><a href=/posts/securing-aws-lambda/>Securing AWS Lambda Functions: Best Practices and Implementation Guide</a>
<span class=post-date>Apr 7, 2023</span></li><li><a href=/posts/aws-step-functions-typescript/>Step Functions: Orchestrating AWS Lambda Workflows in TypeScript</a>
<span class=post-date>Mar 5, 2023</span></li><li><a href=/posts/aws-lambda-typescript/>How to deploy an AWS Lambda function written in TypeScript using SAM CLI</a>
<span class=post-date>Feb 17, 2023</span></li></ul></div><div class=sidebar-widget><h3>Categories</h3><ul class=categories><li><a href=/categories/architecture-and-design>architecture and design (2)</a></li><li><a href=/categories/artificial-intelligence>artificial intelligence (1)</a></li><li><a href=/categories/cloud-computing>cloud computing (4)</a></li><li><a href=/categories/debugging-and-troubleshooting>debugging and troubleshooting (1)</a></li><li><a href=/categories/development-tools>development tools (2)</a></li><li><a href=/categories/development-tutorials>development tutorials (1)</a></li><li><a href=/categories/security>security (1)</a></li><li><a href=/categories/software-development>software development (1)</a></li><li><a href=/categories/version-control>version control (1)</a></li></ul></div><div class=sidebar-widget><h3>Tags</h3><div class=tag-cloud><a href=/tags/ai class=tag-cloud-item style=font-size:1rem>ai
</a><a href=/tags/architecture class=tag-cloud-item style=font-size:1rem>architecture
</a><a href=/tags/automation class=tag-cloud-item style=font-size:1rem>automation
</a><a href=/tags/aws class=tag-cloud-item style=font-size:1rem>aws
</a><a href=/tags/best-practices class=tag-cloud-item style=font-size:1rem>best practices
</a><a href=/tags/debugging class=tag-cloud-item style=font-size:1rem>debugging
</a><a href=/tags/developer-tips class=tag-cloud-item style=font-size:1rem>developer tips
</a><a href=/tags/development class=tag-cloud-item style=font-size:1rem>development
</a><a href=/tags/productivity class=tag-cloud-item style=font-size:1rem>productivity
</a><a href=/tags/security class=tag-cloud-item style=font-size:1rem>security
</a><a href=/tags/serverless class=tag-cloud-item style=font-size:1rem>serverless
</a><a href=/tags/software-engineering class=tag-cloud-item style=font-size:1rem>software engineering
</a><a href=/tags/typescript class=tag-cloud-item style=font-size:1rem>typescript</a></div></div><div class=sidebar-widget><h3>Subscribe</h3><div class=subscribe-links><a href=/index.xml class=rss-link><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg>
RSS Feed</a></div></div><div class=sidebar-widget><h3>Archives</h3><ul class=archive-list></ul></div><div class="sidebar-widget npm-packages"><h3>My NPM Packages</h3><div id=npm-list></div></div></aside></div></div><footer class=site-footer><div class=container><p>&copy; 2025 Scott Obert</p></div></footer></body></html>